---
title: 微不足道的改进
categories: [Tech]
tags: [devops]
date: 2019-03-09
---

今天我说一个很小的故事，不知道对你会不会有启发。

<!-- more -->

话说有一个历史年代悠久的遗留系统，非常复杂和庞大，每次部署后需要一个漫长的服务启动过程。谁也不知道为什么这个启动过程这么慢，至少要半个多小时。

一天一位萌新工程师被指派去查问题，他问老鸟工程师，为什么这个系统要写那么多log？老鸟说老系统不写log谁知道当时发生了什么，以后多学学。

萌新又问，那为什么要写到nas上面？而且存了好几月甚至几年的log。老鸟工程师意味深长的说，写到nas方便你不用登录到服务器就可以取到log啊，存的越多当然线索就越多啦，你查完问题就赶紧做别的task，这个系统年纪可能比你爸年纪还大，管他那么多干嘛？

萌新工程师觉得问题并没有得到满意的解答，又找了更加资深的鸟二工程师，鸟二掐指一算说这应该是一个问题，但是系统太老谁都不敢动手，怕老bug附体招架不住。如果你一定要改进，试试把log写到本地磁盘做个定期清理，给nas腾空间，nas老是不够用。

按照老鸟的建议，萌新工程师把log地址从nas改成了本地路径，这时候神奇的事情居然发生了，这个老态龙钟的系统似乎迎来了第二春，从原来的30多分钟启动时间变成了不到10分钟！运行时处理数据的速度也提高了很多，哇，性能似乎直接提高了200%？！这个改进让萌新工程师一下逆袭，广受老板嘉奖和传颂，年终奖++！

古人说，勿以善小而不为，勿以恶小而为之，说的就是这种人。啊不，有可能古人说的是，命里有时终须有，命里无时莫强求。